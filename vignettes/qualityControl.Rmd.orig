---
title: "Quality control"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Quality control}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The quality control measures are based upon the different variable types we have.

- non repeated
- yearly repeated
- monthly repeated
- trimester repeated
- weekly repeated

## Checks
For each of the types there is a different analysis that needs to be done. We support at the moment 4 table types.
- non-repeated
- monthly-repeated
- yearly-repeated
- trimester

### Non-repeated measures
So in non-repeated we distinguish conituous and categorical values and for repeated measures we will investigate for each of the types which is the most valueble approach to get the ouput as useful as possible.

### Monthly repeated measures

### Yearly repeated measures

### Trimester measures


## Results
The results are pushed to a central server which generates a PDF based upon the uploaded results. You can obtain the PDF by emailing molgenis-support@umcg.nl. You can display the output of the function by specifying `verbose = TRUE` in the method signature.

## Usage
The quality control will be executed in the pipeline after uploading and importing the data into a DataSHIELD backend. However you can execute the flow seperatly as well.

### For Armadillo
```{r, execute the quality control separatly for Armadillo}
library(dsUpload)
login_data <- data.frame(server = "https://armadillo.test.molgenis.org", storage = "https://armadillo-minio.test.molgenis.org", driver = "ArmadilloDriver")

du.login(login_data)

du.quality.control(project = "gecko", verbose = TRUE)
```

### For Opal
```{r, execute the quality control separatly for Armadillo}
library(dsUpload)
login_data <- data.frame(server = "https://opal.edge.molgenis.org", storage = "https://opal.edge.molgenis.org", driver = "OpalDriver")

du.login(login_data)

du.quality.control(project = "lc_gecko_core_2_1", verbose = TRUE)
```

> All of the measures are quality control based upon generic algorithems and with the help of the [dsHelper](https://github.com/lifecycle-project/ds-helper) package.




